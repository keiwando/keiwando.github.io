<!DOCTYPE html lang="en-US"><html lang="en-US"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description"/><meta name="kd:pageId" value="evolution-faq-Why is the simulation so laggy?"/><title>Why is the simulation so laggy?</title><meta name="twitter:title" content="Why is the simulation so laggy?"/><meta property="og:title" content="Why is the simulation so laggy?"/><link rel="stylesheet" href="/main.css" type="text/css"/><link rel="stylesheet" href="/evolution.css" type="text/css"/></head><body><div id="page-root" class="evolution evolution-faqs"><div class="nav-container"><div class="nav-vert-center"><div class="content-area"><a href="/evolution"><h1 class="nav-title">Evolution</h1></a><input type="checkbox" id="nav-menu-checkbox" class="nav-mobile-menu"/><label for="nav-menu-checkbox" class="nav-mobile-menu"><div></div><div></div><div></div></label><ul class="nav-link-container"><li><a href="https://keiwan.itch.io/evolution">Play</a></li><li><a href="/evolution/gifs">GIFs</a></li><li><a href="/evolution/community">Community</a></li><li><a href="/evolution/faq">FAQ</a></li><li><a href="/contact">Contact</a></li></ul></div></div></div><div class="body"><div class="content-area"><div class="md-contents"><h1>Why is the simulation so laggy?</h1><p>Chances are your creature design has lots of body parts, the number of creatures per generation is too high and/or your hardware isn‘t good enough. Your custom neural network might be too large as well.</p><p>The amount of lag you experience is mostly related to the number of body parts that have to be simulated at once. So whether you have many simple creatures or a few highly complex ones isn‘t going to make that much of a difference in terms of performance.</p><p>There is unfortunately not much I can do about this either (read the explanation below if you want to know why).</p><p>That being said, you do have the option to trade simulation time for performance with the „simulate in batches“ setting. Instead of simulating your entire population of complex creatures at once, you can simulate them in smaller groups (batches) - even one at a time if you want to. They will still all count towards the same generation, so the overall simulation progress will obviously be slower, but given the circumstances, this is the best option you have.</p><p>Now for a slightly more technical answer for anyone who‘s interested.</p><p>The simulator is written in Unity and uses Unity‘s physics system for all of its physics calculations. All of the body parts have dynamic Rigidbody components that are controlled by this physics system.</p><p>Profiling the simulation clearly shows me that almost anytime there is lag, it happens because the physics system was unable to finish all of its computations in the last frame, which then again leaves even less time for the physics computations in the next frame etc. The load on the physics system is directly and mainly related to the number of rigidbodies in the scene.</p><p>Having a large neural network can also affect the performance, since none of those computations are hardware accelerated, but its usually less of an issue as compared to the rigidbody count.</p></div></div></div></div><footer class="footer"><div class="content-area ft-flex-container"><section class="ft-section"><div class="ft-column"><h3>About</h3><ul class="ft-link-container"><li><a href="/#projects">Projects</a></li><li><a href="/#about">About</a></li><li><a href="/contact">Contact</a></li></ul></div><div class="ft-column"><h3>Legal</h3><ul class="ft-link-container"><li><a href="/policies/privacy-policy/">Privacy Policy</a></li><li><a href="/impressum">Impressum</a></li></ul></div></section><section class="ft-legal-container"><p>Copyright © 2024 Keiwan Donyagard. All rights reserved.</p></section></div></footer><script src="/main.js" type="module"></script></body></html>